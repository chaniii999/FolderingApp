# Changelog

모든 주요 변경사항은 이 파일에 기록됩니다.

형식은 [Keep a Changelog](https://keepachangelog.com/ko/1.0.0/)를 따르며,
이 프로젝트는 [Semantic Versioning](https://semver.org/lang/ko/)을 준수합니다.

## [1.3.1] - 2025-01-XX

### 🔧 개선 (Improved)

#### 코드 리팩터링 및 구조 개선 (Phase 1)
- **FileContentViewer 컴포넌트 리팩터링**
  - 스크롤 가속도 로직을 `useScrollAcceleration` 커스텀 훅으로 분리
  - 마크다운 렌더링을 `MarkdownViewer` 컴포넌트로 분리
  - 파일 크기: 958줄 → 약 800줄 (약 16% 감소)
  - 코드 가독성 및 유지보수성 향상

- **App 컴포넌트 리팩터링**
  - 핫키 설정을 `src/config/appHotkeys.ts`로 분리
  - 파일 크기: 731줄 → 약 650줄 (약 11% 감소)
  - 핫키 관리 로직의 재사용성 향상

- **Electron 메인 프로세스 리팩터링**
  - 메뉴 템플릿 생성 로직을 `electron/menu/createMenuTemplate.ts`로 분리
  - 파일 크기: 397줄 → 약 250줄 (약 37% 감소)
  - 메뉴 설정 변경 시 유지보수 용이성 향상

#### 코드 리팩터링 및 구조 개선 (Phase 2)
- **중복 코드 제거**
  - 경로 분리자 처리 로직을 `src/utils/pathUtils.ts`로 통일
  - 에러 처리 패턴을 `src/utils/errorHandler.ts`로 통일
  - 9개 파일에서 경로 처리 중복 코드 제거
  - 10개 파일에서 에러 처리 패턴 통일

- **유틸리티 함수 추가**
  - `getPathSeparator`: 경로에서 사용된 분리자 반환
  - `getFileName`: 경로에서 파일명 추출
  - `joinPath`: 두 경로 결합
  - `getLastPathPart`: 경로의 마지막 부분 반환
  - `handleError`: 통일된 에러 처리 및 사용자 알림
  - `handleErrorSilent`: 콘솔 전용 에러 처리
  - `getErrorMessage`: 에러 메시지 추출

#### 코드 품질 개선
- **일관성 향상**: 모든 파일에서 동일한 패턴 사용
- **유지보수성 향상**: 공통 로직을 한 곳에서 관리
- **재사용성 향상**: 유틸리티 함수로 재사용 가능

#### 새로운 파일 구조
- `src/hooks/useScrollAcceleration.ts` - 스크롤 가속도 기능 제공
- `src/components/MarkdownViewer.tsx` - 마크다운 파일 렌더링 컴포넌트
- `src/config/appHotkeys.ts` - 앱 핫키 설정 관리
- `electron/menu/createMenuTemplate.ts` - 메뉴 템플릿 생성 함수
- `src/utils/pathUtils.ts` - 경로 처리 유틸리티
- `src/utils/errorHandler.ts` - 에러 처리 유틸리티
- `src/components/FileExplorer/TreeNode.tsx` - 트리 노드 컴포넌트 (작업 중)

### 📝 문서화 (Documentation)

- 리팩터링 검토 리포트 작성 (`docs/리팩터링-검토-리포트.md`)
- 코드 구조 개선 가이드 추가
- 버전 1.3.1 패치노트 작성 (`docs/버전-1.3.1-패치노트.md`)

---

## [1.3.0] - 2025-01-XX

### ✨ 새로운 기능 (Added)

#### 파일 탐색 개선
- **IntelliJ 스타일 트리 뷰**: SelectPath로 지정한 폴더를 프로젝트 루트처럼 계층적 트리 구조로 표시
- **확장/축소 방식**: 폴더 클릭 시 이동 대신 하위 항목이 트리 형태로 표시
- **전체 구조 유지**: 하위 폴더 접근 시에도 루트 폴더의 전체 구조 표시

#### 편집 워크플로우 개선
- **Ctrl+S 저장**: 텍스트 편집 저장 트리거를 `Ctrl+S`로 변경
- **편집 모드 유지**: 저장 후에도 편집 모드가 유지되어 연속 작업 가능

### 🔧 개선 (Improved)

#### 파일 관리
- **현재 위치 유지**: 파일/폴더 생성 시 현재 디렉토리가 루트로 초기화되지 않음
- **자동 탭 관리**: 파일 삭제 시 해당 파일의 탭이 자동으로 닫히고 포커스가 탐색기로 이동
- **상태 초기화**: 파일 삭제 후 선택 상태가 자동으로 해제

#### 탭 관리 개선
- **스마트 탭 전환**: 화살표 키(←→)로 파일을 이동할 때 탭이 하나로 유지됨
- **현재 파일 표시**: 파일 목록에서 이동할 때 현재 선택된 파일이 탭에 자동으로 표시됨
- **직관적인 워크플로우**: 파일을 클릭하면 탭 추가, 화살표로 이동하면 탭 내용만 변경

#### UI/UX 개선
- **루트 폴더 보호**: SelectPath로 지정한 루트 폴더에서는 ".." 링크가 표시되지 않음
- **디렉토리 글씨 크기**: 디렉토리 이름 표시 크기를 약 3px 줄임
- **메뉴바 정리**: Window, Edit 탭 제거로 더 깔끔한 인터페이스

#### 파일 시스템 서비스
- **경로 비교 로직 강화**: Windows 환경에서 대소문자 구분 없는 경로 비교
- **루트 경로 검증**: SelectPath로 지정한 루트 폴더 경계를 엄격하게 검증
- **경로 정규화**: 다양한 경로 형식을 일관되게 처리

### 🐛 버그 수정 (Fixed)

- 파일 삭제 시 탭이 남아있던 문제 수정
- 파일 삭제 후 포커스가 이동하지 않던 문제 수정
- 파일 생성 시 현재 디렉토리가 초기화되던 문제 수정
- 루트 폴더에서 ".." 링크가 표시되던 문제 수정
- SelectPath 지정 후에도 상위 디렉토리로 이동 가능하던 문제 수정
- 경로 비교 시 대소문자 구분 문제 수정 (Windows)
- 디렉토리 클릭 시 의도하지 않은 이동 문제 수정
- 메뉴바에 불필요한 탭이 표시되던 문제 수정

### ⚠️ 변경사항 (Changed)

- **파일 탐색 동작 변경**: 폴더 클릭 시 이동 대신 트리 구조에서 확장/축소
- **저장 단축키 변경**: 텍스트 편집 저장 트리거가 `Ctrl+S`로 변경

### 📝 문서화 (Documentation)

- 버전 1.3.0 패치노트 작성 (`docs/버전-1.3.0-패치노트.md`)

---

## [1.2.0] - 이전 버전

### 주요 기능
- 파일 탐색 및 편집 기능
- 마크다운 지원
- 텍스트 파일 편집
- 폴더 관리 기능

---

## 버전 형식

- **MAJOR**: 호환되지 않는 API 변경
- **MINOR**: 하위 호환성을 유지하면서 기능 추가
- **PATCH**: 하위 호환성을 유지하면서 버그 수정

